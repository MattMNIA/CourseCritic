import{u as p,U as j,r as n,j as e,C as v,a as f,A as y,B as b,L,b as w}from"./index-DX5mPb-7.js";import{F as a}from"./Form-D-AHDBBl.js";const S=()=>{const h=p(),{login:x}=j(),[s,l]=n.useState({email:"",password:""}),[i,o]=n.useState(null),[c,d]=n.useState(!1),g=async t=>{var m,u;t.preventDefault(),d(!0),o(null);try{const r=await w.login(s);x(r),h("/")}catch(r){o(((u=(m=r==null?void 0:r.response)==null?void 0:m.data)==null?void 0:u.error)||"Login failed")}finally{d(!1)}};return e.jsx(v,{className:"d-flex justify-content-center align-items-center",style:{minHeight:"80vh"},children:e.jsxs(f,{className:"p-4",style:{maxWidth:"400px",width:"100%"},children:[e.jsx("h2",{className:"text-center mb-4",children:"Login to CourseCritic"}),i&&e.jsx(y,{variant:"danger",children:i}),e.jsxs(a,{onSubmit:g,children:[e.jsxs(a.Group,{className:"mb-3",children:[e.jsx(a.Label,{children:"Email address"}),e.jsx(a.Control,{type:"email",placeholder:"Enter email",value:s.email,onChange:t=>l({...s,email:t.target.value})})]}),e.jsxs(a.Group,{className:"mb-3",children:[e.jsx(a.Label,{children:"Password"}),e.jsx(a.Control,{type:"password",placeholder:"Password",value:s.password,onChange:t=>l({...s,password:t.target.value})})]}),e.jsx(b,{variant:"primary",type:"submit",className:"w-100",disabled:c,children:c?"Logging in...":"Login"}),e.jsx("div",{className:"text-center mt-3",children:e.jsx(L,{to:"/auth/register",className:"text-secondary",children:"Don't have an account? Sign up"})})]})]})})};export{S as default};
