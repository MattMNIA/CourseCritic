import{g,u as h,r as s,j as t}from"./index-DX5mPb-7.js";import{c}from"./courseService-BtXvpxST.js";const j=()=>{const{id:r}=g(),i=h(),[o,d]=s.useState(null),[f,l]=s.useState(!0),[u,n]=s.useState(null);s.useEffect(()=>{r&&(async()=>{try{const e=await c.getCourseById(parseInt(r));d(e)}catch{n("Failed to fetch course")}finally{l(!1)}})()},[r]);const p=async a=>{if(a.preventDefault(),!(!o||!r))try{const e=new FormData(a.currentTarget),m={course_name:e.get("courseName"),difficulty:parseInt(e.get("difficulty")),hours_of_work:parseInt(e.get("hoursOfWork")),utility:parseInt(e.get("utility")),professor:e.get("professor"),test_coursescol:e.get("coursecol")};await c.updateCourse(parseInt(r),m),i("/courses")}catch{n("Failed to update course")}};return f?t.jsx("div",{children:"Loading..."}):u?t.jsx("div",{className:"error",children:u}):o?t.jsxs("form",{onSubmit:p,children:[t.jsx("h2",{children:"Edit Course"}),t.jsx("input",{name:"courseName",defaultValue:o.course_name,required:!0}),t.jsx("button",{type:"submit",children:"Update Course"})]}):t.jsx("div",{children:"Course not found"})};export{j as default};
