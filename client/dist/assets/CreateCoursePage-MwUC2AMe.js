import{r as a,u as x,j as e,C as v,a as C,B as j}from"./index-DX5mPb-7.js";import{c as p}from"./courseService-BtXvpxST.js";import{u as f}from"./universityService-BsMjseyU.js";import{F as r}from"./Form-D-AHDBBl.js";const N=()=>{const[n,o]=a.useState(!1),[c,i]=a.useState(null),[l,u]=a.useState([]),d=x();a.useEffect(()=>{(async()=>{try{const t=await f.getAllUniversities();u(t)}catch{i("Failed to fetch universities")}})()},[]);const m=async s=>{s.preventDefault(),o(!0),i(null);try{const t=new FormData(s.currentTarget),h={course_name:t.get("courseName"),course_code:t.get("courseCode"),university_name:t.get("university")};await p.createCourse(h),d("/courses")}catch{i("Failed to create course. Please try again.")}finally{o(!1)}};return e.jsx(v,{children:e.jsxs(C,{className:"p-4",children:[e.jsx("h2",{children:"Create New Course"}),c&&e.jsx("div",{className:"alert alert-danger",children:c}),e.jsxs(r,{onSubmit:m,children:[e.jsxs(r.Group,{className:"mb-3",children:[e.jsx(r.Label,{children:"University"}),e.jsxs(r.Select,{name:"university",required:!0,children:[e.jsx("option",{value:"",children:"Select University"}),l.map(s=>e.jsx("option",{value:s.name,children:s.name},s.id))]})]}),e.jsxs(r.Group,{className:"mb-3",children:[e.jsx(r.Label,{children:"Course Name"}),e.jsx(r.Control,{name:"courseName",required:!0,placeholder:"e.g., Introduction to Computer Science"})]}),e.jsxs(r.Group,{className:"mb-3",children:[e.jsx(r.Label,{children:"Course Code"}),e.jsx(r.Control,{name:"courseCode",required:!0,placeholder:"e.g., CS 101"})]}),e.jsx(j,{type:"submit",disabled:n,children:n?"Creating...":"Create Course"})]})]})})};export{N as default};
